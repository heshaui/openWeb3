## DApp 前端与智能合约交互流程（以写博客 & 查博客为例）
### 1. 智能合约开发
- 在智能合约中实现 写博客（writeBlog） 和 查博客（getBlog） 的方法。

- 在 writeBlog 方法中，存储博客元数据（如标题、摘要、IPFS 哈希等）并抛出 事件（Event），便于前端监听。

- 由于区块链存储成本高，完整的博客内容存储在 IPFS 或 Swarm 之类的去中心化存储上，仅在合约中存储指向内容的哈希值。

### 2. 前端交互
- 用户在前端写完博客，点击 保存 按钮。

- 前端调用智能合约的 writeBlog 方法，并使用 ethers.js 发送交易。由于是写入操作，需要 MetaMask 或其他 Web3 钱包进行 签名 以授权交易。

- 交易成功后，智能合约会触发 事件（Event），前端可以通过 ethers.js 或 GraphQL（如 The Graph） 监听该事件，以获取最新的博客信息。

- 用户想要查看博客时，前端调用合约的 getBlog 方法，获取博客 元数据，然后通过 IPFS 或 Swarm 解析哈希值，加载完整的博客内容并显示在页面上。

### 3. 交易的区块链传播
- 由于以太坊是去中心化网络，交易需要广播到多个节点。

- 前端通常不会直接运行自己的以太坊全节点，而是通过第三方节点服务（如 Infura 或 Alchemy）来提交交易，让它们广播到整个以太坊网络。

### 4. DApp 部署
- 智能合约 部署到 以太坊区块链（共享状态机）。

- 前端应用（HTML、JS、CSS）部署到 IPFS 或 Swarm，确保去中心化访问，不依赖于传统服务器。

- 用户访问 DApp 时，通常通过 ENS 域名 解析 IPFS 地址，以确保前端的去中心化可用性。


## Dapp的组成
- 1、前端代码 Front-end
- 2、智能合约 Contracts
- 3、负责广播交易的提供商 Providers
- 4、更新交易后负责签名的钱包 Metamask
- 5、去中心化的存储系统 IPFS/Swram
- 6、用来查询数据，监听事件 The Graph/ethers.js
- 7、用来部署智能合约的共享状态机 以太坊区块链
- 8、用来扩容的方案 L2的Polygon、Optimistic Rollup、zkRollup